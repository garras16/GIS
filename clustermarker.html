<html>
    <head>
        <title>Latihan Google Map API</title>
        <style>
            html {
                margin: 0px;
                padding: 0px;
            }
            #map {
                background-color: gray;
                width: 100%;
                height: 100%;
                margin: 0px;
            }
        </style>
    </head>
    <body>
        <div id="map"></div>
    </body>
    <script>
        function initMap(){
            var center = {lat: -4.9516568, lng: 105.1810978};
            var map=new google.maps.Map(document.getElementById('map'),{zoom:9,center:center});

            var infoWin = new google.maps.InfoWindow();
                // Add some markers to the map.
                // Note: The code uses the JavaScript Array.prototype.map() method to
                // create an array of markers based on a given "locations" array.
                // The map() method here has nothing to do with the Google Maps API.
                var markers = locations.map(function(location, i) {
                    var marker = new google.maps.Marker({
                        position: location
                    });
                    google.maps.event.addListener(marker, 'clusterclick', function() {
                        infoWin.setContent(locationS.info);
                        infoWin.open(map, marker);
                    })
                return marker;
                });
            console.log(map);
            var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    
            var markers = locations.map(function(location, i) {
                return new google.maps.Marker({
                    position: location,
                    label: labels[i % labels.length]
                });
            }); 
            console.log(locations);
            console.log(markers);
            var markerCluster = new MarkerClusterer(map, markers,
                {imagePath: 'images/m'});
        
            var d = markerCluster.distanceBetweenPoints_(markers[2].getPosition(),markers[4].getPosition());
            console.log(markerCluster.getCalculator());
            // var marker=new google.maps.Marker({position:center,map:map});
            // console.log(marker);

        }

        var locations = [
        {lat: -5.412242, lng: 105.260774, info: "Marker A"},
        {lat: -5.392940, lng: 105.289113, info: "Marker B"},
        {lat: -5.395753, lng: 105.273924, info: "Marker C"},
        {lat: -5.365911, lng: 105.243012, info: "Marker D"},
        {lat: -5.203261, lng: 103.951631, info: "Marker E"},
        {lat: -5.222407, lng: 103.930174, info: "Marker F"},
        {lat: -4.840122, lng: 104.878176, info: "Marker G"},
        {lat: -4.858253, lng: 104.904963, info: "Marker H"},
        {lat: -4.473981, lng: 105.254980, info: "Marker I"},
        {lat: -4.488916, lng: 105.232579, info: "Marker J"},
        {lat: -4.476423, lng: 105.271031, info: "Marker K"},
        {lat: -5.733958, lng: 105.604626, info: "Marker L"},
        {lat: -5.735887, lng: 105.618738, info: "Marker M"},
        {lat: -5.160700, lng: 104.533087, info: "Marker N"},
        {lat: -5.448865, lng: 105.259266, info: "Marker O"}
      ];

    </script>
    <script async defer 
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCx0yZKvuXFS6QawkRgVvmSw_xL7eDS_4&callback=initMap"></script>
    <script src="src/markerclusterer.js">
    </script>
</html>